{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../core/services/calendar.service\";\nimport * as i3 from \"@angular/common\";\nfunction EventFormComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", c_r1.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r1.name);\n  }\n}\nexport let EventFormComponent = /*#__PURE__*/(() => {\n  class EventFormComponent {\n    constructor(fb, svc) {\n      this.fb = fb;\n      this.svc = svc;\n      this.dateIso = '';\n      this.form = this.fb.group({\n        title: ['', Validators.required],\n        date: ['', Validators.required],\n        category: ['work', Validators.required],\n        description: ['']\n      });\n      this.categories = [{\n        id: 'work',\n        name: 'Work',\n        color: '#2563EB'\n      }, {\n        id: 'personal',\n        name: 'Personal',\n        color: '#10B981'\n      }, {\n        id: 'holiday',\n        name: 'Holiday',\n        color: '#F97316'\n      }];\n    }\n    ngOnInit() {\n      this.form.patchValue({\n        date: this.dateIso\n      });\n    }\n    ngOnChanges() {\n      this.form.patchValue({\n        date: this.dateIso\n      });\n    }\n    save() {\n      if (this.form.invalid) return;\n      const v = this.form.value;\n      const ev = {\n        id: uuidv4(),\n        title: v.title,\n        date: v.date,\n        category: v.category,\n        description: v.description\n      };\n      this.svc.addEvent(ev);\n      this.form.reset({\n        category: 'work',\n        date: this.dateIso\n      });\n    }\n    static {\n      this.ɵfac = function EventFormComponent_Factory(t) {\n        return new (t || EventFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CalendarService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EventFormComponent,\n        selectors: [[\"app-event-form\"]],\n        inputs: {\n          dateIso: \"dateIso\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 11,\n        vars: 3,\n        consts: [[1, \"form-card\"], [\"novalidate\", \"\", 3, \"ngSubmit\", \"formGroup\"], [\"formControlName\", \"title\", \"placeholder\", \"Title\"], [\"formControlName\", \"date\", \"type\", \"date\"], [\"formControlName\", \"category\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"description\", \"placeholder\", \"Description\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"value\"]],\n        template: function EventFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n            i0.ɵɵtext(2, \"Create Event\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 1);\n            i0.ɵɵlistener(\"ngSubmit\", function EventFormComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵelement(4, \"input\", 2)(5, \"input\", 3);\n            i0.ɵɵelementStart(6, \"select\", 4);\n            i0.ɵɵtemplate(7, EventFormComponent_option_7_Template, 2, 2, \"option\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(8, \"textarea\", 6);\n            i0.ɵɵelementStart(9, \"button\", 7);\n            i0.ɵɵtext(10, \"Save\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.form);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n          }\n        },\n        dependencies: [i3.NgForOf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\".form-card[_ngcontent-%COMP%]{margin-top:12px;padding:10px;border-radius:6px;background:#fff;box-shadow:0 1px 3px #0000000a;display:flex;flex-direction:column;gap:8px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #e5e7eb;border-radius:4px}button[_ngcontent-%COMP%]{padding:8px 12px;border-radius:6px;background:#3b82f6;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}\"]\n      });\n    }\n  }\n  return EventFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}